{"ast":null,"code":"import _toConsumableArray from\"/root/react-apps/back_end/be-youtiful/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/root/react-apps/back_end/be-youtiful/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_BOOKING,DELETE_BOOKING,SET_CURRENT,CLEAR_CURRENT,UPDATE_BOOKING,FILTER_BOOKING,CLEAR_FILTER,BOOKING_ERROR,GET_BOOKINGS,CLEAR_BOOKING}from'../types';export default(function(state,action){switch(action.type){case GET_BOOKINGS:return _objectSpread({},state,{bookings:action.payload,loading:false});case ADD_BOOKING:return _objectSpread({},state,{bookings:[action.payload].concat(_toConsumableArray(state.bookings)),loading:false});case UPDATE_BOOKING:return _objectSpread({},state,{bookings:state.bookings.map(function(booking){return booking._id===action.payload._id?action.payload:booking;}),loading:false});case DELETE_BOOKING:return _objectSpread({},state,{bookings:state.bookings.filter(function(booking){return booking._id!==action.payload;}),loading:false});case CLEAR_BOOKING:return _objectSpread({},state,{bookings:null,filtred:null,error:null,current:null});case SET_CURRENT:return _objectSpread({},state,{current:action.payload});case CLEAR_CURRENT:return _objectSpread({},state,{current:null});case FILTER_BOOKING:return _objectSpread({},state,{filtered:state.bookings.filter(function(booking){var regex=new RegExp(\"\".concat(action.payload,\", 'gi\"));return booking.name.match(regex)||booking.cellphone.match(regex);})});case CLEAR_FILTER:return _objectSpread({},state,{filtered:null});case BOOKING_ERROR:return _objectSpread({},state,{error:action.payload});default:return state;}});","map":{"version":3,"sources":["/root/react-apps/back_end/be-youtiful/src/context/booking/bookingReducer.js"],"names":["ADD_BOOKING","DELETE_BOOKING","SET_CURRENT","CLEAR_CURRENT","UPDATE_BOOKING","FILTER_BOOKING","CLEAR_FILTER","BOOKING_ERROR","GET_BOOKINGS","CLEAR_BOOKING","state","action","type","bookings","payload","loading","map","booking","_id","filter","filtred","error","current","filtered","regex","RegExp","name","match","cellphone"],"mappings":"uPAAA,OACIA,WADJ,CAEIC,cAFJ,CAGIC,WAHJ,CAIIC,aAJJ,CAKIC,cALJ,CAMIC,cANJ,CAOIC,YAPJ,CAQIC,aARJ,CASIC,YATJ,CAUIC,aAVJ,KAWO,UAXP,CAcA,eAAe,SAACC,KAAD,CAAQC,MAAR,CAAkB,CAC7B,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKJ,CAAAA,YAAL,CACI,wBACOE,KADP,EAEIG,QAAQ,CAAEF,MAAM,CAACG,OAFrB,CAGIC,OAAO,CAAE,KAHb,GAKJ,IAAKf,CAAAA,WAAL,CACI,wBACOU,KADP,EAEIG,QAAQ,EAAGF,MAAM,CAACG,OAAV,4BAAsBJ,KAAK,CAACG,QAA5B,EAFZ,CAGIE,OAAO,CAAE,KAHb,GAKJ,IAAKX,CAAAA,cAAL,CACI,wBACOM,KADP,EAEIG,QAAQ,CAAEH,KAAK,CAACG,QAAN,CAAeG,GAAf,CAAmB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,GAAR,GAAgBP,MAAM,CAACG,OAAP,CAAeI,GAA/B,CACxCP,MAAM,CAACG,OADiC,CACxBG,OADoB,EAA1B,CAFd,CAKKF,OAAO,CAAE,KALd,GAOJ,IAAKd,CAAAA,cAAL,CACI,wBACOS,KADP,EAEIG,QAAQ,CAAEH,KAAK,CAACG,QAAN,CAAeM,MAAf,CAAsB,SAAAF,OAAO,QAAIA,CAAAA,OAAO,CAACC,GAAR,GAAgBP,MAAM,CAACG,OAA3B,EAA7B,CAFd,CAGIC,OAAO,CAAE,KAHb,GAKJ,IAAKN,CAAAA,aAAL,CACI,wBACOC,KADP,EAEIG,QAAQ,CAAE,IAFd,CAGIO,OAAO,CAAE,IAHb,CAIIC,KAAK,CAAE,IAJX,CAKIC,OAAO,CAAC,IALZ,GAOJ,IAAKpB,CAAAA,WAAL,CACI,wBACOQ,KADP,EAEIY,OAAO,CAAEX,MAAM,CAACG,OAFpB,GAIH,IAAKX,CAAAA,aAAL,CACG,wBACOO,KADP,EAEIY,OAAO,CAAC,IAFZ,GAIJ,IAAKjB,CAAAA,cAAL,CACI,wBACOK,KADP,EAEIa,QAAQ,CAAEb,KAAK,CAACG,QAAN,CAAeM,MAAf,CAAsB,SAAAF,OAAO,CAAG,CACtC,GAAMO,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,WAAcd,MAAM,CAACG,OAArB,UAAd,CACA,MAAOG,CAAAA,OAAO,CAACS,IAAR,CAAaC,KAAb,CAAmBH,KAAnB,GAA6BP,OAAO,CAACW,SAAR,CAAkBD,KAAlB,CAAwBH,KAAxB,CAApC,CACH,CAHS,CAFd,GAOJ,IAAKlB,CAAAA,YAAL,CACI,wBACOI,KADP,EAEIa,QAAQ,CAAC,IAFb,GAIJ,IAAKhB,CAAAA,aAAL,CACI,wBACOG,KADP,EAEIW,KAAK,CAAEV,MAAM,CAACG,OAFlB,GAIJ,QACI,MAAOJ,CAAAA,KAAP,CAhER,CAkEH,CAnED","sourcesContent":["import {\n    ADD_BOOKING,\n    DELETE_BOOKING,\n    SET_CURRENT,\n    CLEAR_CURRENT,\n    UPDATE_BOOKING,\n    FILTER_BOOKING,\n    CLEAR_FILTER,\n    BOOKING_ERROR,\n    GET_BOOKINGS,\n    CLEAR_BOOKING\n} from '../types'\n\n\nexport default (state, action) =>{\n    switch(action.type){\n        case GET_BOOKINGS:\n            return {\n                ...state,\n                bookings: action.payload,\n                loading: false\n            }\n        case ADD_BOOKING:\n            return {\n                ...state,\n                bookings: [action.payload, ...state.bookings ],\n                loading: false\n            };\n        case UPDATE_BOOKING:\n            return{\n                ...state,\n                bookings: state.bookings.map(booking => booking._id === action.payload._id? \n                action.payload: booking   \n                 ),\n                 loading: false\n            };    \n        case DELETE_BOOKING:\n            return {\n                ...state,\n                bookings: state.bookings.filter(booking => booking._id !== action.payload),\n                loading: false\n            };\n        case CLEAR_BOOKING:\n            return {\n                ...state,\n                bookings: null,\n                filtred: null,\n                error: null,\n                current:null\n            }    \n        case SET_CURRENT:\n            return {\n                ...state,\n                current: action.payload\n            };\n         case CLEAR_CURRENT:\n            return {\n                ...state,\n                current:null\n            };    \n        case FILTER_BOOKING:\n            return {\n                ...state,\n                filtered: state.bookings.filter(booking =>{\n                    const regex = new RegExp(`${action.payload}, 'gi`);\n                    return booking.name.match(regex) || booking.cellphone.match(regex)\n                })\n            }\n        case CLEAR_FILTER:\n            return {\n                ...state,\n                filtered:null\n            }    \n        case BOOKING_ERROR:\n            return {\n                ...state,\n                error: action.payload\n            };   \n        default:\n            return state;    \n    }\n}"]},"metadata":{},"sourceType":"module"}