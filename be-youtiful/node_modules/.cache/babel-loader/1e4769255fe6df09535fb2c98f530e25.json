{"ast":null,"code":"var _jsxFileName = \"/root/react-apps/back_end/be-youtiful/src/components/auth/Login.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\n\nconst Login = props => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    login,\n    error,\n    clearErrors,\n    isAuthenticated,\n    loadClient\n  } = authContext;\n  useEffect(() => {\n    if (isAuthenticated) {\n      props.history.push('/book');\n    }\n\n    if (error) {\n      setAlert(error, 'danger');\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n  const [client, setClient] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = client;\n\n  const onChange = e => setClient({ ...client,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (email === '' || password === '') {\n      setAlert('Please fill in all fields', 'danger');\n    } else {\n      login({\n        email,\n        password\n      });\n      loadClient();\n    }\n  };\n\n  return React.createElement(Grid, {\n    textAlign: \"center\",\n    style: {\n      height: '100vh'\n    },\n    verticalAlign: \"middle\",\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    style: {\n      maxWidth: 450\n    },\n    mobile: \"16\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h2\",\n    color: \"teal\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Image, {\n    src: \"assets/logo.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), \" \", React.createElement(\"h2\", {\n    style: headers,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Log-in to your account\")), React.createElement(Form, {\n    size: \"large\",\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Segment, {\n    pilled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"user\",\n    iconPosition: \"left\",\n    placeholder: \"E-mail address\",\n    value: email,\n    name: \"email\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Form.Input, {\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Password\",\n    type: \"password\",\n    value: password,\n    name: \"password\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"teal\",\n    fluid: true,\n    size: \"large\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Login\"))), React.createElement(Message, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"New to us? \", React.createElement(\"a\", {\n    href: \"/register\",\n    style: te,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Sign Up\"))));\n};\n\nconst headers = {\n  fontFamily: 'myriad-pro-light, serif',\n  fontStyle: 'normal',\n  fontWeight: 500,\n  color: '#E03996'\n};\nexport default Login;","map":{"version":3,"sources":["/root/react-apps/back_end/be-youtiful/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Button","Form","Grid","Header","Image","Message","Segment","Login","props","alertContext","authContext","setAlert","login","error","clearErrors","isAuthenticated","loadClient","history","push","client","setClient","email","password","onChange","e","target","name","value","onSubmit","preventDefault","height","maxWidth","headers","te","fontFamily","fontStyle","fontWeight","color"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\n\n\nconst Login = props => {\n\n\n    const alertContext =  useContext(AlertContext)\n    const authContext =  useContext(AuthContext)\n\n    const {setAlert} = alertContext;\n    const {login, error, clearErrors, isAuthenticated, loadClient } = authContext;\n    \n    \n     useEffect( ()=> {\n        if(isAuthenticated){\n            props.history.push('/book')\n        }\n\n\n         if(error){\n             setAlert(error,'danger');\n             clearErrors();\n             \n         }\n         // eslint-disable-next-line\n     },[error, isAuthenticated, props.history]);\n\n\n\n\n    const [client, setClient] = useState({\n        email:'',\n        password : '',\n        \n    })\n\n    const {email, password} = client;\n\n    const onChange = e => setClient({...client, [e.target.name]: e.target.value })\n\n    const onSubmit = (e) =>{\n        e.preventDefault();\n        if(email === '' || password === ''){\n            setAlert('Please fill in all fields', 'danger')\n        }else{\n            login({\n                email,\n                password\n            }) \n\n            loadClient()\n        }\n        \n    }\n\n    return(\n        <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle' centered>\n    <Grid.Column style={{ maxWidth: 450 }} mobile=\"16\" >\n      <Header as='h2' color='teal' textAlign='center'>\n        <Image src='assets/logo.png' /> <h2 style={headers}>Log-in to your account</h2>\n      </Header>\n      <Form size='large' onSubmit={onSubmit}>\n        <Segment pilled >\n          <Form.Input fluid icon='user' iconPosition='left' placeholder='E-mail address' value={email} name=\"email\" onChange={onChange} />\n          <Form.Input\n            fluid\n            icon='lock'\n            iconPosition='left'\n            placeholder='Password'\n            type='password'\n\t    value={password}\n\t    name=\"password\" \n\t    onChange={onChange}\n          />\n\n          <Button color='teal' fluid size='large' type=\"submit\">\n            Login\n          </Button>\n        </Segment>\n      </Form>\n      <Message>\n        New to us? <a href='/register' style={te}>Sign Up</a>\n      </Message>\n      \n    </Grid.Column>\n  </Grid>\n    )\n}\n\nconst headers = {\n  fontFamily: 'myriad-pro-light, serif',\n  fontStyle: 'normal',\n  fontWeight: 500,\n  color: '#E03996'\n}\nexport default Login\n"]},"metadata":{},"sourceType":"module"}