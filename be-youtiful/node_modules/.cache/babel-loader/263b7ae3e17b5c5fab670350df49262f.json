{"ast":null,"code":"import _defineProperty from\"/root/react-apps/back_end/be-youtiful/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/root/react-apps/back_end/be-youtiful/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/root/react-apps/back_end/be-youtiful/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';var Register=function Register(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/book');}if(error){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),client=_useState2[0],setClient=_useState2[1];var name=client.name,email=client.email,password=client.password,password2=client.password2;var onChange=function onChange(e){return setClient(_objectSpread({},client,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''){setAlert('please enter all fields','danger');}else if(password!==password2){setAlert('Passwords do not match','danger');}else{register({name:name,email:email,password:password});}};return React.createElement(\"div\",{className:\"form-primary\"},React.createElement(\"h1\",null,\"Account \",React.createElement(\"span\",{className:\"text-primary\"},\"Register\")),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,required:true,onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,required:true,onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Password\"),React.createElement(\"input\",{type:\"password\",name:\"password\",required:true,value:password,minLength:\"6\",onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Confirm Password\"),React.createElement(\"input\",{type:\"password\",name:\"password2\",required:true,value:password2,minLength:\"6\",onChange:onChange})),React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})));};export default Register;","map":{"version":3,"sources":["/root/react-apps/back_end/be-youtiful/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","client","setClient","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"yWAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,UAAxB,CAAoCC,SAApC,KAAoD,OAApD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,YAAY,CAAIN,UAAU,CAACE,YAAD,CAAhC,CACA,GAAMK,CAAAA,WAAW,CAAIP,UAAU,CAACG,WAAD,CAA/B,CAFwB,GAIjBK,CAAAA,QAJiB,CAILF,YAJK,CAIjBE,QAJiB,IAKjBC,CAAAA,QALiB,CAKgCF,WALhC,CAKjBE,QALiB,CAKPC,KALO,CAKgCH,WALhC,CAKPG,KALO,CAKAC,WALA,CAKgCJ,WALhC,CAKAI,WALA,CAKaC,eALb,CAKgCL,WALhC,CAKaK,eALb,CAQvBX,SAAS,CAAE,UAAK,CACb,GAAGW,eAAH,CAAmB,CACfP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,OAAnB,EACH,CAGA,GAAGJ,KAAH,CAAS,CACLF,QAAQ,CAACE,KAAD,CAAO,QAAP,CAAR,CACAC,WAAW,GAEd,CACD;AACH,CAZQ,CAYP,CAACD,KAAD,CAAQE,eAAR,CAAyBP,KAAK,CAACQ,OAA/B,CAZO,CAAT,CARuB,cAuBId,QAAQ,CAAC,CACjCgB,IAAI,CAAE,EAD2B,CAEjCC,KAAK,CAAC,EAF2B,CAGjCC,QAAQ,CAAG,EAHsB,CAIjCC,SAAS,CAAE,EAJsB,CAAD,CAvBZ,wCAuBjBC,MAvBiB,eAuBTC,SAvBS,kBA+BjBL,CAAAA,IA/BiB,CA+BmBI,MA/BnB,CA+BjBJ,IA/BiB,CA+BXC,KA/BW,CA+BmBG,MA/BnB,CA+BXH,KA/BW,CA+BJC,QA/BI,CA+BmBE,MA/BnB,CA+BJF,QA/BI,CA+BMC,SA/BN,CA+BmBC,MA/BnB,CA+BMD,SA/BN,CAiCxB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIF,CAAAA,SAAS,kBAAKD,MAAL,oBAAcG,CAAC,CAACC,MAAF,CAASR,IAAvB,CAA8BO,CAAC,CAACC,MAAF,CAASC,KAAvC,GAAb,EAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAH,CAAC,CAAG,CACjBA,CAAC,CAACI,cAAF,GACA,GAAIX,IAAI,GAAK,EAAT,EAAeC,KAAK,GAAK,EAAzB,EAA+BC,QAAQ,GAAI,EAA/C,CAAmD,CAC/CT,QAAQ,CAAC,yBAAD,CAA4B,QAA5B,CAAR,CAEH,CAHD,IAGM,IAAIS,QAAQ,GAAKC,SAAjB,CAA2B,CAC7BV,QAAQ,CAAC,wBAAD,CAA2B,QAA3B,CAAR,CAEH,CAHK,IAGD,CACDC,QAAQ,CAAC,CACLM,IAAI,CAAJA,IADK,CAELC,KAAK,CAALA,KAFK,CAGLC,QAAQ,CAARA,QAHK,CAAD,CAAR,CAKH,CAEJ,CAhBD,CAkBA,MACI,4BAAK,SAAS,CAAC,cAAf,EACI,yCACY,4BAAM,SAAS,CAAC,cAAhB,aADZ,CADJ,CAII,4BAAM,QAAQ,CAAEQ,QAAhB,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,MAAf,SADJ,CAEI,6BAAO,IAAI,CAAC,MAAZ,CAAoB,IAAI,CAAC,MAAzB,CAAgC,KAAK,CAAEV,IAAvC,CAA6C,QAAQ,KAArD,CAAsD,QAAQ,CAAEM,QAAhE,EAFJ,CADJ,CAMI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,OAAf,kBADJ,CAEI,6BAAO,IAAI,CAAC,OAAZ,CAAqB,IAAI,CAAC,OAA1B,CAAkC,KAAK,CAAEL,KAAzC,CAAgD,QAAQ,KAAxD,CAA0D,QAAQ,CAAEK,QAApE,EAFJ,CANJ,CAWI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,MAAf,aADJ,CAEI,6BAAO,IAAI,CAAC,UAAZ,CAAwB,IAAI,CAAC,UAA7B,CAAwC,QAAQ,KAAhD,CAAiD,KAAK,CAAEJ,QAAxD,CAAkE,SAAS,CAAC,GAA5E,CAAgF,QAAQ,CAAEI,QAA1F,EAFJ,CAXJ,CAeI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,MAAf,qBADJ,CAEI,6BAAO,IAAI,CAAC,UAAZ,CAAwB,IAAI,CAAC,WAA7B,CAAyC,QAAQ,KAAjD,CAAmD,KAAK,CAAEH,SAA1D,CAAqE,SAAS,CAAC,GAA/E,CAAmF,QAAQ,CAAEG,QAA7F,EAFJ,CAfJ,CAoBI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,UAA3B,CAAsC,SAAS,CAAC,2BAAhD,EApBJ,CAJJ,CADJ,CA8BH,CAnFD,CAsFA,cAAejB,CAAAA,QAAf","sourcesContent":["import React, {useState,useContext, useEffect} from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Register = (props) => {\n    const alertContext =  useContext(AlertContext)\n    const authContext =  useContext(AuthContext)\n\n    const {setAlert} = alertContext;\n    const {register, error, clearErrors, isAuthenticated} = authContext;\n    \n    \n     useEffect( ()=> {\n        if(isAuthenticated){\n            props.history.push('/book')\n        }\n\n\n         if(error){\n             setAlert(error,'danger');\n             clearErrors();\n             \n         }\n         // eslint-disable-next-line\n     },[error, isAuthenticated, props.history]);\n\n\n    const [client, setClient] = useState({\n        name: '',\n        email:'',\n        password : '',\n        password2: ''\n    })\n\n\n    const {name, email, password, password2} = client;\n\n    const onChange = e => setClient({...client, [e.target.name]: e.target.value })\n\n    const onSubmit = e =>{\n        e.preventDefault();\n        if (name === '' || email === '' || password ==='') {\n            setAlert('please enter all fields', 'danger');\n            \n        }else if (password !== password2){\n            setAlert('Passwords do not match', 'danger');\n\n        }else{\n            register({\n                name,\n                email,\n                password\n            });\n        }\n        \n    }\n\n    return(\n        <div className=\"form-primary\">\n            <h1>\n                Account <span className=\"text-primary\">Register</span>\n            </h1>\n            <form onSubmit={onSubmit}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\"  name=\"name\" value={name} required onChange={onChange}/>\n\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email Address</label>\n                    <input type=\"email\"  name=\"email\" value={email} required  onChange={onChange}/>\n\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Password</label>\n                    <input type=\"password\"  name=\"password\" required value={password} minLength=\"6\" onChange={onChange}/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Confirm Password</label>\n                    <input type=\"password\"  name=\"password2\" required  value={password2} minLength=\"6\" onChange={onChange}/>\n                </div>\n\n                <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\"/>\n\n            </form>\n        </div>\n    )\n}\n\n\nexport default Register"]},"metadata":{},"sourceType":"module"}